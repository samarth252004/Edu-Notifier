{"version":3,"sources":["rexes/scalar/rectify.ts"],"names":[],"mappings":";;;;;;AAAA,wBAAyB,WAAW,CAAC,CAAA;AAErC,IAAO,CAAC,WAAW,QAAQ,CAAC,CAAC;AAC7B,sBAAuB,UAAU,CAAC,CAAA;AAUlC;IAA4C,8BAAsB;IACjE,oBAAY,MAAyB,EAAE,SAAiC;QACvE,IAAI,aAAa,GAAG,UAAC,EAAQ;YAC5B,IAAI,YAAY,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC7C,SAAS,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,YAAY,CAAC;QACrB,CAAC,CAAC;QACF,kBAAM,MAAM,EAAE;YACb,EAAE,EAAG,SAAS,CAAC,EAAE;YACjB,IAAI,EAAG,aAAa;SACpB,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,gBAAQ,CAAC,OAAO,CAAC;IACnC,CAAC;IACF,iBAAC;AAAD,CAbA,AAaC,CAb2C,oBAAU,GAarD;AAbY,kBAAU,aAatB,CAAA","file":"rexes/scalar/rectify.js","sourcesContent":["import {RexConvert} from \"./convert\";\r\nimport {RexScalar} from \"./index\";\r\nimport _ = require(\"lodash\");\r\nimport {RexNames} from '../names';\r\n/**\r\n * Created by Greg on 03/10/2016.\r\n */\r\n\r\nexport interface Rectifier<TFrom, TTo> {\r\n\tto ?: (from : TFrom) => TTo;\r\n\trectify ?: (current : TFrom, input : TTo) => void;\r\n}\r\n\r\nexport class RexRectify<TFrom, TTo> extends RexConvert<TFrom, TTo> {\r\n\tconstructor(parent : RexScalar<TFrom>, rectifier : Rectifier<TFrom, TTo>) {\r\n\t\tlet rectifyAsFrom = (to : TTo) => {\r\n\t\t\tlet currentClone = _.cloneDeep(parent.value);\r\n\t\t\trectifier.rectify(currentClone, to);\r\n\t\t\treturn currentClone;\r\n\t\t};\r\n\t\tsuper(parent, {\r\n\t\t\tto : rectifier.to,\r\n\t\t\tfrom : rectifyAsFrom\r\n\t\t});\r\n\t\tthis.info.type = RexNames.Rectify;\r\n\t}\r\n}"],"sourceRoot":"/src"}